
class Process:
    def __init__(self, arrivalTime, brustTime) -> None:
        self.arrivalTime = arrivalTime
        self.brustTime = brustTime
        self.remainingTime = brustTime
        self.waitingTime = 0
        self.turnAroundTime = 0
        self.completeTime = -1

def findavgTime(processes): 
    #TODO: write function to calculate avgWaitingTime and avgTurnAroundTime of LRTF Algorithm
    # print(processes)
    n = len(processes)
    # print(n)
    lstProcess = []
    # Tạo các process 
    for process in processes:
        lstProcess.append(Process(process[0], process[1]))

    # set các thông số cần thiết
    countProcessComplete = 0
    runTime = 0
    #Chạy đến khi nào tất cả các process đều đã hoàn thành
    #Lặp qua từng thời điểm
    oldindex = 0
    while(countProcessComplete < n):
        index = -1
        longestJob = -99999
        #Tìm process chưa được thực hiện và có remaining time lớn nhất 
        for i in range(oldindex,n):
            if lstProcess[i].arrivalTime > runTime:
                break
            if lstProcess[i].completeTime != -1:
                if i == oldindex +1: oldindex = i
            else:
                if lstProcess[i].remainingTime > longestJob:
                    #tìm được process thõa mãn
                    longestJob = lstProcess[i].remainingTime
                    index = i

        runTime += 1
        # print(runTime)  
        # print(countProcessComplete)
        #nếu không tìm được process thõa mãn thì skip 
        if index == -1:
            continue
        #Cập nhật các thông số cho process thõa mãn 
        lstProcess[index].remainingTime -= 1
        if lstProcess[index].remainingTime == 0: #process hoàn thành
            lstProcess[index].completeTime = runTime
            lstProcess[index].turnAroundTime = runTime - lstProcess[index].arrivalTime
            lstProcess[index].waitingTime = lstProcess[index].turnAroundTime - lstProcess[index].brustTime
            countProcessComplete +=1
    
    avgWaitingTime = sum([process.waitingTime for process in lstProcess])/n
    avgTurnAroundTime = sum([process.turnAroundTime for process in lstProcess])/n

    #! DO NOT CHANGE
    # print("Average waiting time = "+ "{:.2f}".format(avgWaitingTime)) 
    # print("Average turn around time = "+ "{:.2f}".format(avgTurnAroundTime)) 
    return "Average waiting time = "+ "{:.2f}".format(avgWaitingTime) + "\n" + "Average turn around time = "+ "{:.2f}".format(avgTurnAroundTime) + "\n"
findavgTime([(1, 9), (6, 10), (8, 6), (14, 1), (18, 18), (28, 20), (38, 1), (43, 11), (51, 2), (56, 18), (66, 8), (67, 15), (77, 2), (79, 20), (85, 4), (89, 12), (92, 3), (98, 16), (101, 17), (106, 8), (111, 7), (119, 8), (126, 4), (133, 18), (139, 17), (147, 18), (157, 19), (157, 13), (161, 11), (166, 4), (170, 6), (176, 19), (177, 3), (178, 13), (184, 2), (193, 4), (194, 11), (196, 11), (197, 9), (197, 11), (205, 18), (211, 19), (218, 2), (225, 7), (225, 6), (235, 6), (235, 16), (243, 16), (252, 5), (258, 10), (263, 1), (264, 3), (267, 1), (272, 20), (282, 7), (289, 3), (292, 11), (299, 10), (307, 17), (307, 19), (313, 18), (317, 3), (324, 15), (327, 15), (328, 5), (334, 20), (344, 9), (352, 16), (355, 14), (358, 11), (358, 14), (359, 5), (367, 4), (368, 7), (376, 5), (380, 18), (389, 15), (397, 10), (404, 18), (406, 5), (412, 1), (419, 19), (421, 14), (424, 13), (430, 7), (431, 14), (434, 18), (442, 13), (444, 12), (454, 6), (457, 3), (463, 9), (467, 15), (470, 11), (471, 15), (479, 14), (488, 4), (492, 3), (499, 1), (501, 17), (508, 20), (516, 14), (523, 13), (533, 16), (541, 17), (541, 7), (548, 8), (557, 4), (557, 12), (567, 9), (577, 8), (587, 12), (593, 10), (601, 2), (607, 19), (617, 14), (627, 16), (628, 12), (634, 4), (636, 20), (646, 12), (648, 3), (658, 2), (666, 8), (668, 11), (672, 5), (677, 8), (677, 18), (686, 13), (687, 19), (688, 6), (693, 6), (696, 9), (705, 7), (712, 8), (721, 15), (726, 6), (731, 10), (737, 1), (745, 3), (749, 9), (753, 9), (753, 5), (757, 19), (762, 5), (763, 5), (766, 10), (771, 18), (776, 5), (776, 6), (777, 19), (784, 12), (786, 17), (792, 8), (794, 3), (799, 10), (806, 12), (807, 12), (809, 6), (812, 18), (813, 14), (822, 7), (823, 7), (823, 7), (824, 2), (830, 4), (840, 20), (841, 2), (842, 6), (846, 20), (856, 16), (866, 10), (875, 18), (885, 6), (895, 2), (905, 1), (912, 1), (913, 2), (917, 4), (925, 8), (929, 9), (935, 6), (938, 2), (942, 5), (952, 5), (953, 2), (953, 16), (961, 4), (971, 7), (974, 8), (974, 10), (982, 15), (991, 2), (994, 4), (998, 17), (1007, 15), (1010, 17), (1020, 11), (1026, 2), (1033, 18), (1034, 1), (1039, 2), (1042, 15), (1046, 20), (1052, 15), (1057, 4), (1066, 7), (1069, 13), (1072, 6), (1072, 2), (1076, 16), (1076, 1), (1081, 19), (1081, 14), (1087, 19), (1093, 11), (1101, 1), (1108, 14), (1109, 12), (1114, 20), (1114, 7), (1121, 20), (1121, 13), (1130, 3), (1140, 7), (1144, 20), (1145, 19), (1154, 20), (1164, 11), (1167, 1), (1170, 6), (1179, 14), (1181, 20), (1188, 10), (1189, 5), (1190, 8), (1195, 19), (1201, 6), (1208, 16), (1211, 13), (1214, 11), (1217, 3), (1225, 13), (1230, 14), (1238, 16), (1241, 8), (1248, 6), (1249, 19), (1253, 16), (1263, 16), (1271, 2), (1277, 13), (1279, 17), (1285, 10), (1292, 18), (1298, 10), (1305, 15), (1307, 19), (1309, 11), (1318, 15), (1321, 13), (1321, 3), (1329, 12), (1339, 14), (1339, 15), (1339, 5), (1343, 18), (1350, 12), (1354, 1), (1361, 13), (1361, 4), (1370, 9), (1378, 1), (1384, 12), (1384, 12), (1385, 16), (1388, 9), (1395, 11), (1398, 18), (1400, 10), (1407, 1), (1408, 3), (1409, 3), (1410, 6), (1420, 6), (1421, 1), (1425, 18), (1426, 10), (1434, 9), (1435, 17), (1441, 12), (1450, 1), (1454, 3), (1457, 3), (1457, 1), (1467, 2), (1473, 17), (1479, 6), (1486, 8), (1496, 18), (1503, 14), (1508, 16), (1517, 20), (1519, 10), (1519, 3), (1520, 16), (1528, 6), (1531, 1), (1532, 14), (1537, 10), (1539, 3), (1539, 7), (1544, 12), (1546, 10), (1556, 10), (1565, 6), (1575, 4), (1578, 17), (1587, 7), (1596, 6), (1605, 18), (1610, 1), (1614, 16), (1621, 3), (1623, 3), (1631, 19), (1640, 9), (1643, 18), (1653, 16), (1657, 18), (1664, 12), (1664, 2), (1672, 14), (1674, 18), (1682, 16), (1691, 8), (1693, 6), (1696, 18), (1699, 5), (1700, 3), (1702, 10), (1703, 6), (1705, 3), (1715, 10), (1724, 20), (1724, 6), (1727, 3), (1731, 12), (1736, 11), (1740, 5), (1746, 15), (1748, 15), (1748, 8), (1758, 4), (1763, 13), (1765, 8), (1767, 4), (1774, 3), (1783, 14), (1788, 17), (1792, 20), (1800, 7), (1800, 2), (1806, 16), (1812, 19), (1815, 7), (1816, 12), (1821, 12), (1823, 12), (1832, 13), (1837, 15), (1846, 5), (1856, 9), (1866, 20), (1869, 13), (1872, 18), (1878, 8), (1879, 19), (1884, 4), (1887, 13), (1895, 9), (1898, 19), (1900, 17), (1907, 3), (1907, 4), (1907, 9), (1916, 6), (1926, 13), (1936, 14), (1946, 10), (1947, 9), (1947, 4), (1948, 3), (1952, 3), (1955, 8), (1956, 20), (1958, 12), (1966, 7), (1973, 10), (1982, 11), (1982, 8), (1990, 17), (1993, 2), (1997, 12), (2000, 16), (2000, 16), (2002, 7), (2012, 17), (2019, 17), (2026, 13), (2028, 11), (2031, 14), (2035, 7), (2044, 11), (2044, 3), (2045, 15), (2055, 9), (2058, 8), (2063, 5), (2071, 18), (2079, 3), (2083, 15), (2086, 8), (2086, 15), (2091, 2), (2099, 8), (2103, 15), (2107, 16), (2115, 9), (2122, 9), (2123, 6), (2128, 19), (2132, 1), (2140, 3), (2142, 7), (2151, 3), (2153, 5), (2155, 7), (2164, 8), (2173, 7), (2173, 10), (2180, 8), (2182, 8), (2189, 3), (2192, 11), (2200, 14), (2208, 20), (2218, 15), (2224, 14), (2228, 3), (2236, 1), (2238, 7), (2246, 20), (2251, 7), (2254, 3), (2256, 16), (2264, 18), (2267, 15), (2277, 4), (2280, 17), (2290, 8), (2297, 11), (2300, 6), (2310, 3), (2311, 9), (2318, 10), (2319, 13), (2327, 20), (2335, 4), (2340, 1), (2349, 20), (2358, 7), (2360, 16), (2369, 3), (2373, 7), (2373, 19), (2379, 4), (2381, 2), (2391, 19), (2395, 10), (2399, 3), (2409, 15), (2418, 5), (2427, 3), (2431, 11), (2441, 10), (2445, 3), (2453, 4), (2454, 3), (2459, 1), (2469, 7), (2472, 20), (2473, 19), (2482, 17), (2489, 14), (2490, 4), (2497, 3), (2503, 17), (2507, 20), (2509, 17), (2511, 20), (2521, 10), (2522, 16), (2525, 20), (2530, 5), (2533, 17), (2535, 19), (2539, 8), (2545, 3), (2553, 16), (2556, 16), (2564, 20), (2567, 10), (2570, 11), (2576, 2), (2581, 18), (2584, 11), (2594, 10), (2603, 20), (2605, 19), (2612, 15), (2621, 19), (2630, 12), (2637, 19), (2646, 15), (2648, 12), (2657, 10), (2664, 14), (2669, 15), (2673, 3), (2678, 6), (2686, 19), (2693, 11), (2699, 20), (2702, 6), (2710, 19), (2717, 7), (2727, 19), (2727, 3), (2736, 14), (2742, 6), (2747, 7), (2750, 19), (2759, 13), (2761, 15), (2762, 18), (2762, 14), (2767, 1), (2770, 19), (2777, 3), (2779, 14), (2785, 7), (2791, 10), (2798, 2), (2798, 18), (2802, 10), (2807, 9), (2815, 6), (2821, 9), (2829, 11), (2830, 10), (2840, 7), (2848, 9), (2854, 4), (2864, 9), (2864, 20), (2868, 16), (2877, 18), (2882, 15), (2892, 17), (2898, 1), (2899, 17), (2904, 13), (2911, 16), (2913, 17), (2919, 13), (2927, 10), (2937, 1), (2941, 1), (2944, 13), (2950, 6), (2957, 19), (2958, 7), (2964, 15), (2973, 15), (2983, 1), (2984, 20), (2989, 18), (2989, 15), (2991, 15), (2991, 9), (2992, 4), (2996, 14), (3005, 5), (3005, 5), (3008, 1), (3008, 14), (3014, 1), (3024, 17), (3027, 18), (3035, 19), (3039, 11), (3040, 2), (3047, 9), (3050, 9), (3052, 20), (3061, 12), (3067, 12), (3076, 5), (3076, 13), (3084, 5), (3087, 9), (3088, 19), (3089, 10), (3098, 14), (3099, 12), (3101, 19), (3106, 17), (3106, 16), (3107, 1), (3116, 4), (3126, 14), (3129, 8), (3139, 4), (3146, 17), (3150, 11), (3156, 5), (3159, 15), (3165, 17), (3175, 15), (3177, 4), (3186, 18), (3187, 7), (3192, 1), (3194, 19), (3202, 6), (3211, 3), (3211, 5), (3216, 2), (3219, 15), (3226, 12), (3232, 10), (3239, 13), (3244, 11), (3244, 14), (3248, 6), (3251, 15), (3256, 1), (3263, 1), (3264, 2), (3264, 19), (3274, 18), (3274, 15), (3282, 13), (3289, 17), (3289, 20), (3289, 15), (3289, 1), (3293, 19), (3303, 7), (3303, 16), (3306, 13), (3308, 3), (3314, 20), (3319, 15), (3325, 15), (3327, 8), (3334, 2), (3335, 17), (3341, 8), (3341, 9), (3341, 12), (3345, 6), (3350, 8), (3357, 2), (3360, 7), (3365, 18), (3373, 5), (3382, 2), (3389, 16), (3390, 4), (3395, 8), (3395, 6), (3399, 18), (3399, 5), (3401, 17), (3410, 19), (3410, 17), (3419, 4), (3421, 12), (3431, 9), (3431, 1), (3432, 17), (3433, 7), (3437, 4), (3437, 2), (3437, 5), (3447, 10), (3454, 14), (3455, 17), (3457, 17), (3458, 5), (3461, 6), (3463, 18), (3463, 15), (3469, 13), (3471, 4), (3477, 15), (3480, 16), (3490, 18), (3490, 18), (3493, 15), (3499, 8), (3503, 5), (3505, 10), (3506, 15), (3511, 3), (3520, 17), (3526, 17), (3532, 8), (3534, 16), (3542, 20), (3546, 16), (3549, 12), (3557, 2), (3558, 12), (3558, 19), (3562, 9), (3562, 18), (3565, 13), (3567, 1), (3575, 18), (3575, 17), (3578, 6), (3587, 10), (3589, 13), (3597, 3), (3599, 16), (3607, 3), (3612, 18), (3615, 16), (3620, 9), (3627, 12), (3629, 5), (3630, 4), (3632, 11), (3642, 16), (3647, 7), (3657, 13), (3659, 9), (3663, 20), (3666, 16), (3667, 12), (3670, 8), (3675, 1), (3680, 17), (3689, 1), (3692, 7), (3696, 14), (3704, 20), (3707, 9), (3714, 8), (3720, 10), (3725, 4), (3733, 5), (3742, 17), (3751, 11), (3761, 19), (3771, 15), (3771, 13), (3772, 4), (3772, 16), (3778, 6), (3778, 16), (3784, 20), (3793, 19), (3793, 18), (3799, 6), (3808, 7), (3809, 10), (3818, 18), (3821, 20), (3831, 3), (3839, 12), (3846, 19), (3846, 7), (3848, 11), (3848, 14), (3855, 10), (3860, 5), (3865, 18), (3875, 4), (3877, 15), (3887, 13), (3889, 9), (3896, 15), (3905, 8), (3913, 19), (3918, 18), (3922, 5), (3925, 9)])